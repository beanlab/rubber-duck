# Anchors
file_size_limit: &file_size_limit 4096 # 4KB limit
file_type_ext:
  &file_type_ext [
    "txt",
    "py",
    "java",
    "cpp",
    "c",
    "h",
    "hpp",
    "js",
    "ts",
    "html",
    "css",
    "md",
  ]

structured_outputs:
  - quiz_schema: &quiz_schema
      Question_1: str
      Question_2: str
      Question_3: str
      Question_4: str
      Question_5: str

sql:
  db_type: sqlite
  database: /rubber-duck.db


agents_as_tools:
  - tool_name: code_complexity_agent
    doc_string: |
      This tool analyzes the complexity of source code and returns a string describing the order of complexity. 
      This tool takes source code as a string and returns a string describing the order of complexity (Big-O analysis) of the provided code.
    agent:
      name: CodeComplexityAgent
      prompt_files:
        - prompts/generate-code-complexity.md
      engine: gpt-4.1
      tools: []


  - tool_name: determine_tool_call
    doc_string: |
      This tool determines which tool to call based on the user's input. This tool is used to determine which tool to call based on the user's input.
    agent:
      name: DetermineToolCall
      prompt_files:
        - prompts/determine_tool_call_stats.txt
      engine: gpt-4.1
      tools: []

  - tool_name: question_generator_agent
    doc_string: |
      This tool generates 5 test questions based on the provided text. Use this tool to generate test questions for a given text.
        The output will be a dictionary with keys "Question_1", "Question_2", etc.
    agent:
      name: GenerateFiveQuestions
      prompt: |
        You are a test question generator. 
        Generate 5 test questions based on the provided text.
      engine: gpt-4.1
      tools: []
      output_format: *quiz_schema


ducks:
  - name: standard-rubber-duck
    duck_type: agent_conversation
    settings:
      agent:
        name: RubberDuck
        prompt_files:
          - prompts/standard-rubber-duck.txt
        engine: gpt-4.1
        tools: []
      file_size_limit: *file_size_limit
      file_type_ext: *file_type_ext

  - name: stats-duck
    duck_type: agent_conversation
    settings:
      agent:
        name: stats_duck
        engine: gpt-4.1
        prompt_files:
          - prompts/stats2.txt
        tools:
          - talk_to_user
          - determine_tool_call
          - describe_dataset
          - list_categories
          - explain_capabilities
          - get_dataset_names
          - get_variable_names
          - show_dataset_head
          - plot_histogram
          - plot_boxplot
          - plot_dotplot
          - plot_barplot
          - plot_pie_chart
          - plot_proportion_barplot
          - calculate_mean
          - calculate_skewness
          - calculate_std
          - calculate_median
          - calculate_mode
          - calculate_five_number_summary
          - calculate_table_of_counts
          - calculate_proportions
          - calculate_probability_from_normal_distribution
          - calculate_percentiles_from_normal_distribution
          - plot_normal_distribution
          - calculate_confidence_interval_and_t_test
          - plot_confidence_interval_and_t_distribution
          - calculate_two_mean_t_test
          - calculate_one_way_anova
          - calculate_one_sample_proportion_z_test
          - calculate_two_sample_proportion_z_test
        tool_required: required
      file_size_limit: *file_size_limit
      file_type_ext: *file_type_ext

  - name: cat-dog-duck
    duck_type: agent_conversation
    settings:
      agent:
        name: dispatch
        engine: gpt-4.1
        prompt_files:
          - prompts/dog-cat-scratch/router.txt
        tools:
          - talk_to_user
          - talk_about_dogs
          - talk_about_cats
        tool_required: required
      agents_as_tools:
        - tool_name: talk_about_dogs
          doc_string: |
              This tool handles questions about dogs. It can answer questions about dog breeds, care, and behavior.
          agent:
            name: dog
            engine: gpt-4.1
            prompt_files:
              - prompts/dog-cat-scratch/dog.txt
            tools:
              - talk_to_user
        - tool_name: talk_about_cats
          doc_string: |
              This tool handles questions about cats. It can answer questions about cat breeds, care, and behavior.
          agent:
            name: cat
            engine: gpt-4.1
            prompt_files:
              - prompts/dog-cat-scratch/cat.txt
            tools:
              - talk_to_user
      file_size_limit: *file_size_limit
      file_type_ext: *file_type_ext



servers:
  927616651409649675:
    server_name: CS 110
    channels:
      - channel_id: 1296158078017736725
        channel_name: review-cs-110
        ducks:
          - name: conversation_review
            duck_type: conversation_review
            settings:
              target_channel_ids:
                - 1234556460453597276
              timeout: 300

      - channel_id: 1234556460453597276
        channel_name: general/duck-pond
        ducks:
          - standard-rubber-duck

      - channel_id: 1399777118380097648
        channel_name: join-the-server
        ducks:
          - name: Registration-Workflow
            duck_type: registration
            settings:
              cache_timeout: 60800
              authenticated_user_role_name: Student
              email_domain: byu.edu
              roles:
                patterns:
                  - name: Teacher Sections
                    pattern: "-section-"
                    description: Sorted by teacher's name (e.g. smith-section-000)



  747510855536738336:
    server_name: CS 235
    channels:
      - channel_id: 1327385245036838912
        channel_name: review-cs-235
        ducks:
          - name: conversation_review
            duck_type: conversation_review
            settings:
              target_channel_ids:
                - 1195490291134779502
              timeout: 300

      - channel_id: 1195490291134779502
        channel_name: student-text-channels/duck-pond
        ducks:
          - standard-rubber-duck

      - channel_id: 1399788047981351042
        channel_name: join-the-server
        ducks:
          - name: Registration-Workflow
            duck_type: registration
            settings:
              cache_timeout: 60800
              authenticated_user_role_name: Student
              email_domain: byu.edu
              roles:
                patterns:
                  - name: Teacher Sections
                    pattern: "-section-"
                    description: Sorted by teacher name (e.g. smith-section-001)


  1235303213796691998:
    server_name: CS 111
    channels:
      - channel_id: 1329934513333338244
        channel_name: review-cs-111
        ducks:
          - name: conversation_review
            duck_type: conversation_review
            settings:
              target_channel_ids:
                - 1365456542287269919
              timeout: 300

      - channel_id: 1365456542287269919
        channel_name: Student Text Channels/duck-pond
        ducks:
          - standard-rubber-duck

  1371951485629370458:
    server_name: Stats
    channels:
      - channel_id: 1371951756149260298
        channel_name: ta-review
        ducks:
          - name: conversation_review
            duck_type: conversation_review
            settings:
              target_channel_ids:
                - 1371951696061661215
                - 1374066971523678279
              timeout: 300

      - channel_id: 1371951696061661215
        channel_name: duck-pond
        ducks:
          - standard-rubber-duck

      - channel_id: 1374066971523678279
        channel_name: stats-tool
        ducks:
          - stats-duck

  1354902266246598928:
    server_name: Physics
    channels:
      - channel_id: 1363949553102880869
        channel_name: review-phys-230
        ducks:
          - name: conversation_review
            duck_type: conversation_review
            settings:
              target_channel_ids:
                - 1363949528201564170
              timeout: 300

      - channel_id: 1363949528201564170
        channel_name: physics-230-phys230
        ducks:
          - standard-rubber-duck

      - channel_id: 1359587713749094700
        channel_name: review-phys-430
        ducks:
          - name: conversation_review
            duck_type: conversation_review
            settings:
              target_channel_ids:
                - 1359587525605458030
              timeout: 300

      - channel_id: 1359587525605458030
        channel_name: physics-430-phys430
        ducks:
          - standard-rubber-duck

  1338616224858374287:
    server_name: Rubber Duck Demo Server
    channels:
      - channel_id: 1338619665789751337
        channel_name: vintage-duck-review
        ducks:
          - name: review
            duck_type: conversation_review
            settings:
              target_channel_ids:
                - 1338616283671040000

      - channel_id: 1338616283671040000
        channel_name: vintage-duck
        ducks:
          - standard-rubber-duck

      - channel_id: 1401960218870419647
        channel_name: emoji-duck
        ducks:
          - name: emoji-duck
            duck_type: agent_conversation
            settings:
              agent:
                name: emoji-duck
                engine: gpt-4.1
                prompt_files:
                  - prompts/emoji.txt
                tools: []
              timeout: 2000
              file_size_limit: *file_size_limit
              file_type_ext: *file_type_ext

      - channel_id: 1385293810782965830
        channel_name: code-complexity-analysis-duck
        ducks:
          - name: code-complexity-duck
            duck_type: agent_conversation
            settings:
              timeout: 600
              file_size_limit: 5100
              file_type_ext: ["py", "java", "cpp", "c", "h", "hpp", "ts", "js"]
              agent:
                name: ComplexityDuck
                prompt: |
                  You are a helpful CS assistant.
                  You explain Big-O analysis. 
                  You can use the provided tools to generate a complexity analysis report
                  when the user provides a code file.
                  Keep your responses brief and clear. Provide the tool output to the user verbatim.
                tools:
                  - generate_code_complexity_analysis
                engine: gpt-4.1


      - channel_id: 1379953844540407969
        channel_name: socratic-duck
        ducks:
          - name: socratic-rubber-duck
            duck_type: agent_conversation
            settings:
              introduction: |
                I'm a Socratic-style rubber duck. 
                I can help you think through your problems by asking questions.
              agent:
                name: socrates
                prompt_files:
                  - prompts/socratic-duck.txt
                engine: gpt-4.1
                tools: []
              timeout: 600
              file_size_limit: *file_size_limit
              file_type_ext: *file_type_ext

      - channel_id: 1379959992110546995
        channel_name: join-the-server
        ducks:
          - name: Registration-Workflow
            duck_type: registration
            settings:
              cache_timeout: 60800
              authenticated_user_role_name: I-passed-registration
              email_domain: byu.edu
              roles:
                patterns:
                  - name: Teacher Sections
                    pattern: "-section-\\d{3}$"
                    description: Teacher name followed by section number (e.g. smith-section-001)
                  - name: Lab Sections
                    pattern: "^lab-section-\\d{3}$"
                    description: Lab section number (e.g. lab-section-002)

      - channel_id: 1384678077694480434
        channel_name: designer-duck
        ducks:
          - name: phd-duck
            duck_type: agent_conversation
            settings:
              introduction: |
                Welcome! This is the design experience for the convex hull project. Send a message to continue.
              agent:
                name: PhdDuck
                engine: gpt-4.1
                prompt_files:
                  - prompts/phd-duck.txt
                  - prompts/312-project-design/convex-hull/project-design-convex-hull.txt
                tools: []
              timeout: 600
              file_size_limit: *file_size_limit
              file_type_ext: *file_type_ext

      - channel_id: 1379955387587104829
        channel_name: stats-tool
        ducks:
          - stats-duck

timeout: 600

feedback_notifier_settings:
  feedback_check_hour: 9
  feedback_check_minute: 0

admin_settings:
  admin_channel_id: 1192895746672951340
  admin_role_id: 933123843038535741
  log_level: WARNING

sender_email: byu-cs-course-ops@cs.byu.edu

dataset_folder_locations:
  - s3://stats121-datasets/datasets/

ai_completion_retry_protocol:
  max_retries: 2
  delay: 2
  backoff: 2

reporter_settings:
  gpt_pricing:
    "gpt-4": [0.03, 0.06]
    "gpt-4o": [0.0025, 0.01]
    "gpt-4-1106-preview": [0.01, 0.03]
    "gpt-4-0125-preview": [0.01, 0.03]
    "o4-mini": [0.000150, 0.0006]
    "gpt-4-turbo": [0.01, 0.03]
    "gpt-4-turbo-preview": [0.01, 0.03]
    "gpt-3.5-turbo-1106": [0.001, 0.002]
    "gpt-3.5-turbo": [0.001, 0.003]
